{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}MPE UK Ltd | Food Packaging Machinery{% endblock %}</title>

  <meta name="description" content="{% block meta_description %}MPE UK Ltd - Food packaging machinery built in the UK. Tray sealers, sandwich sealers, denesters and bespoke automation.{% endblock %}">
  <meta name="theme-color" content="#001a4d">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Flags (for distributors, etc.) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons@7.5.0/css/flag-icons.min.css">

  <!-- Site CSS -->
  <link rel="stylesheet" href="{% static 'styles.css' %}">

  <link rel="icon" href="{% static 'assets/favicon.png' %}" type="image/png">
  
  <style>
    /* 1. Icon Hover Effects */
    .iconlink i { transition: transform 0.2s ease, filter 0.2s ease; }
    .iconlink:hover i { transform: scale(1.2); filter: brightness(1.2); }

    /* 2. Enhanced "Get a Quote" Button Styling */
    .nav .btn-quote {
      background-color: #3b82f6; /* Bright Blue */
      color: #ffffff !important;
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 800;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      transition: all 0.2s ease;
      box-shadow: 0 4px 6px rgba(59, 130, 246, 0.3);
      border: 1px solid #3b82f6;
    }

    .nav .btn-quote:hover {
      background-color: #2563eb; /* Darker Blue on Hover */
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(59, 130, 246, 0.4);
      color: white;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body>
  <!-- Top strip -->
  <div class="topbar">
    <div class="container topbar__inner">
      <div class="topbar__left">
        <i class="fa-solid fa-phone"></i>
        <a href="tel:+441663732700">+44 1663 732700</a>
        <span class="dot">•</span>
        <i class="fa-solid fa-envelope"></i>
        <a href="mailto:sales@mpe-uk.com">sales@mpe-uk.com</a>
      </div>

      <!-- Social Media Icons (Colorful) -->
      <div class="topbar__right">
        <span class="muted">Follow us:</span>
        <a class="iconlink" href="https://www.linkedin.com/" target="_blank" rel="noopener" aria-label="LinkedIn">
            <i class="fa-brands fa-linkedin" style="color: #0077b5;"></i>
        </a>
        <a class="iconlink" href="https://www.facebook.com/" target="_blank" rel="noopener" aria-label="Facebook">
            <i class="fa-brands fa-facebook" style="color: #1877F2;"></i>
        </a>
        <a class="iconlink" href="https://twitter.com/" target="_blank" rel="noopener" aria-label="X (Twitter)">
            <i class="fa-brands fa-x-twitter" style="color: #ffffff;"></i>
        </a>
        <a class="iconlink" href="https://www.instagram.com/" target="_blank" rel="noopener" aria-label="Instagram">
            <i class="fa-brands fa-instagram" style="color: #E1306C;"></i>
        </a>
        <a class="iconlink" href="https://www.youtube.com/" target="_blank" rel="noopener" aria-label="YouTube">
            <i class="fa-brands fa-youtube" style="color: #FF0000;"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- Header / nav -->
  <header class="header" id="site-header">
    <div class="container header__inner">
      <a class="brand" href="{% url 'index' %}">
        {% if site_config.logo %}
          <img class="brand__logo" src="{{ site_config.logo.url }}" alt="MPE UK Ltd">
        {% else %}
          <img class="brand__logo" src="{% static 'assets/mpe-logo.png' %}" alt="MPE UK Ltd">
        {% endif %}
      </a>

      <button class="nav-toggle" id="nav-toggle" aria-label="Open menu" aria-expanded="false">
        <i class="fa-solid fa-bars"></i>
      </button>

      <nav class="nav" id="site-nav">
        <a href="{% url 'index' %}">Home</a>
        <a href="{% url 'index' %}#machines">Machines</a>
        <a href="{% url 'tooling' %}">Tooling</a>
        <a href="{% url 'shop' %}">Shop</a>
        <a href="/customer/">Customer</a>
        <a href="/staff/">Admin</a>
        
        <!-- Styled Button -->
        <a class="btn-quote" href="{% url 'contact' %}">GET A QUOTE</a>
      </nav>
    </div>
  </header>

  <main class="main">
    {% block content %}{% endblock %}
  </main>

  <footer class="footer">
    <div class="container footer__grid">
      
      <!-- Column 1: Logo & Social -->
      <div>
        {% if site_config.logo %}
          <img class="footer__logo" src="{{ site_config.logo.url }}" alt="MPE UK Ltd">
        {% else %}
          <img class="footer__logo" src="{% static 'assets/mpe-logo.png' %}" alt="MPE UK Ltd">
        {% endif %}
        <p class="muted">
          Food packaging machinery built in the UK — engineered for reliability, hygiene and speed.
        </p>

        <div class="footer__social" aria-label="Social links">
          <a class="iconlink" href="https://www.linkedin.com/" target="_blank" rel="noopener"><i class="fa-brands fa-linkedin"></i></a>
          <a class="iconlink" href="https://www.facebook.com/" target="_blank" rel="noopener"><i class="fa-brands fa-facebook"></i></a>
          <a class="iconlink" href="https://www.youtube.com/" target="_blank" rel="noopener"><i class="fa-brands fa-youtube"></i></a>
        </div>

        <div class="footer__badges" aria-label="Distributor regions">
          <span class="badge badge--flag"><span class="fi fi-gb"></span><span>UK</span></span>
          <span class="badge badge--flag"><span class="fi fi-us"></span><span>USA</span></span>
          <span class="badge badge--flag"><span class="fi fi-ca"></span><span>Canada</span></span>
        </div>
      </div>

      <!-- Column 2: Contact Address (Hardcoded) -->
      <div>
        <h4>Contact</h4>
        <ul class="footer__list">
          <li style="align-items: flex-start;">
            <i class="fa-solid fa-location-dot" style="margin-top: 5px;"></i> 
            <span style="line-height: 1.6;">
              <strong>MPE UK Ltd</strong><br>
              Unit 1 Bowden Lane,<br>
              Chapel-en-le-Frith,<br>
              High Peak, Derbyshire,<br>
              SK23 0QF
            </span>
          </li>
          <li><i class="fa-solid fa-phone"></i> <a href="tel:+441663732700">+44 1663 732700</a></li>
          <li><i class="fa-solid fa-fax"></i> <span>+44 1663 732900</span></li>
          <li><i class="fa-solid fa-envelope"></i> <a href="mailto:sales@mpe-uk.com">sales@mpe-uk.com</a></li>
        </ul>
      </div>

      <!-- Column 3: Quick Links -->
      <div>
        <h4>Quick links</h4>
        <ul class="footer__list">
          <li><a href="{% url 'shop' %}">Spare parts shop</a></li>
          <li><a href="{% url 'documents' %}">Downloads</a></li>
          <li><a href="{% url 'contact' %}">Request a quote</a></li>
          <li><a href="/admin/">Admin Login</a></li>
        </ul>
      </div>
    </div>
    
    <div class="container footer__bottom">
      <span class="muted">© {% now "Y" %} MPE UK Ltd. All rights reserved.</span>
    </div>
  </footer>

  <!-- Back to Top Button -->
  <button id="back-to-top" aria-label="Back to top" style="
    position:fixed;
    bottom:30px;
    right:30px;
    width:48px;
    height:48px;
    border-radius:50%;
    background:linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);
    border:none;
    color:#fff;
    font-size:1.2rem;
    cursor:pointer;
    box-shadow:0 8px 24px rgba(0,26,77,.3);
    opacity:0;
    visibility:hidden;
    transition:var(--transition);
    z-index:30;
  ">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <script>
    // Mobile nav toggle
    (function() {
      const btn = document.getElementById("nav-toggle");
      const nav = document.getElementById("site-nav");
      if (!btn || !nav) return;

      btn.addEventListener("click", () => {
        const isOpen = nav.classList.toggle("nav--open");
        btn.setAttribute("aria-expanded", isOpen ? "true" : "false");
      });

      // close on navigation click (mobile)
      nav.querySelectorAll("a").forEach(a => {
        a.addEventListener("click", () => nav.classList.remove("nav--open"));
      });
    })();

    // Back to top button
    (function() {
      const btn = document.getElementById("back-to-top");
      if (!btn) return;

      function toggleButton() {
        if (window.scrollY > 400) {
          btn.style.opacity = "1";
          btn.style.visibility = "visible";
        } else {
          btn.style.opacity = "0";
          btn.style.visibility = "hidden";
        }
      }

      window.addEventListener("scroll", toggleButton);
      toggleButton();

      btn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      btn.addEventListener("mouseenter", () => {
        btn.style.transform = "translateY(-4px) scale(1.05)";
      });
      btn.addEventListener("mouseleave", () => {
        btn.style.transform = "translateY(0) scale(1)";
      });
    })();
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>